<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Contratos - Plaza Rosa de Castillo</title>
    <style>
        :root {
            --gold: #C9A66B;
            --black: #1E1610;
            --white: #FAFAFA;
            --gray: #666;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1E1610 0%, #2a1f18 100%);
            min-height: 100vh;
            color: var(--white);
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: var(--gold);
            margin-bottom: 10px;
            font-size: 1.8rem;
        }
        
        .subtitle {
            text-align: center;
            color: var(--gray);
            margin-bottom: 30px;
        }
        
        .form-section {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(201,166,107,0.2);
        }
        
        .form-section h2 {
            color: var(--gold);
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        label {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        input, select, textarea {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(201,166,107,0.3);
            border-radius: 8px;
            padding: 12px;
            color: var(--white);
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--gold);
        }
        
        select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23C9A66B' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }
        
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        /* Mobile-first responsive */
        @media (max-width: 600px) {
            body {
                padding: 12px;
            }
            
            h1 {
                font-size: 1.4rem;
            }
            
            .form-section {
                padding: 15px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            input, select, textarea {
                padding: 14px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .btn {
                padding: 16px;
                font-size: 1rem;
            }
            
            .contract-preview {
                padding: 20px;
                font-size: 10pt;
            }
        }
        
        .btn {
            background: linear-gradient(135deg, var(--gold), #b8956a);
            color: var(--black);
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(201,166,107,0.3);
        }
        
        .preview-btn {
            background: transparent;
            border: 2px solid var(--gold);
            color: var(--gold);
            margin-bottom: 10px;
        }
        
        /* Print styles for contract */
        @media print {
            body {
                background: white;
                color: black;
                padding: 0;
            }
            
            .no-print {
                display: none !important;
            }
            
            .contract-preview {
                display: block !important;
                background: white;
                color: black;
                padding: 40px;
                font-family: 'Times New Roman', serif;
                font-size: 12pt;
                line-height: 1.6;
            }
        }
        
        .contract-preview {
            display: none;
            background: white;
            color: black;
            padding: 40px;
            border-radius: 8px;
            font-family: 'Times New Roman', serif;
            font-size: 11pt;
            line-height: 1.5;
            margin-top: 20px;
        }
        
        .contract-preview.show {
            display: block;
        }
        
        .contract-preview h1 {
            color: black;
            font-size: 14pt;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .contract-preview p {
            text-align: justify;
            margin-bottom: 12px;
        }
        
        .contract-preview .clause-title {
            font-weight: bold;
            margin-top: 15px;
        }
        
        .contract-preview .signature-block {
            margin-top: 50px;
            text-align: center;
        }
        
        .contract-preview .signature-line {
            margin-top: 60px;
            border-top: 1px solid black;
            width: 300px;
            display: inline-block;
            padding-top: 5px;
        }
        
        .calculated {
            background: rgba(201,166,107,0.1);
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--gold);
        }
    </style>
</head>
<body>
    <div class="container no-print">
        <h1>üìã Generador de Contratos</h1>
        <p class="subtitle">Plaza Rosa de Castillo ‚Äî Quimist√°n, Santa B√°rbara</p>
        
        <!-- Section 1: Tenant Info -->
        <div class="form-section">
            <h2>üë§ 1. Informaci√≥n del Arrendatario</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Nombre Completo</label>
                    <input type="text" id="tenantName" placeholder="NOMBRE APELLIDO APELLIDO">
                </div>
                <div class="form-group">
                    <label>Estado Civil</label>
                    <select id="civilStatus">
                        <option value="">Seleccionar...</option>
                        <option value="SOLTERO(A)">Soltero(a)</option>
                        <option value="CASADO(A)">Casado(a)</option>
                        <option value="DIVORCIADO(A)">Divorciado(a)</option>
                        <option value="VIUDO(A)">Viudo(a)</option>
                        <option value="UNI√ìN LIBRE">Uni√≥n Libre</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>DNI (Identidad)</label>
                    <input type="text" id="tenantDNI" placeholder="0000-0000-00000">
                </div>
                <div class="form-group">
                    <label>RTN (opcional)</label>
                    <input type="text" id="tenantRTN" placeholder="0000-0000-000000">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Nombre del Negocio</label>
                    <input type="text" id="businessName" placeholder="Ej: Tienda XYZ">
                </div>
            </div>
        </div>
        
        <!-- Section 2: Space Details -->
        <div class="form-section">
            <h2>üè¢ 2. Detalles del Local</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>N√∫mero de Local(es)</label>
                    <input type="text" id="localNumber" placeholder="Ej: Local 1, o Local 1 & 2">
                </div>
                <div class="form-group">
                    <label>Ubicaci√≥n/Descripci√≥n</label>
                    <input type="text" id="localLocation" value="primera planta, lado norte, frente a la calle principal">
                </div>
            </div>
        </div>
        
        <!-- Section 3: Terms -->
        <div class="form-section">
            <h2>üí∞ 3. T√©rminos del Contrato</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Renta Mensual Base (Lempiras)</label>
                    <input type="number" id="rentLPS" placeholder="20000" oninput="calculateTotals()">
                </div>
                <div class="form-group">
                    <label>Tipo de Cambio (L. por $1 USD)</label>
                    <input type="number" id="exchangeRate" placeholder="25.00" step="0.01" oninput="calculateTotals()">
                </div>
            </div>
            <div class="calculated" id="calculations">
                <strong>C√°lculos autom√°ticos:</strong><br>
                ISV (15%): L. <span id="isvAmount">0</span><br>
                Total Mensual: L. <span id="totalRent">0</span><br>
                Equivalente en USD: $<span id="rentUSD">0</span><br>
                Dep√≥sito (2 meses): L. <span id="deposit">0</span>
            </div>
            <div class="form-row" style="margin-top: 15px;">
                <div class="form-group">
                    <label>D√≠a de Pago Mensual</label>
                    <select id="paymentDay">
                        <option value="1">1 de cada mes</option>
                        <option value="5">5 de cada mes</option>
                        <option value="10">10 de cada mes</option>
                        <option value="15" selected>15 de cada mes</option>
                        <option value="√∫ltimo">√öltimo d√≠a del mes</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Duraci√≥n (a√±os)</label>
                    <select id="duration" oninput="calculateEndDate()">
                        <option value="1">1 a√±o</option>
                        <option value="2">2 a√±os</option>
                        <option value="3">3 a√±os</option>
                        <option value="5" selected>5 a√±os</option>
                        <option value="10">10 a√±os</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Fecha de Inicio</label>
                    <input type="date" id="startDate" oninput="calculateEndDate()">
                </div>
                <div class="form-group">
                    <label>Fecha de Vencimiento (autom√°tico)</label>
                    <input type="date" id="endDate" readonly style="opacity: 0.7;">
                </div>
            </div>
        </div>
        
        <!-- Section 4: Special Clauses -->
        <div class="form-section">
            <h2>üìù 4. Cl√°usulas Especiales (opcional)</h2>
            <div class="form-group">
                <label>Agregar cl√°usulas adicionales o modificaciones</label>
                <textarea id="specialClauses" placeholder="Ej: El arrendatario tendr√° derecho exclusivo de venta de caf√© en la plaza..."></textarea>
            </div>
        </div>
        
        <!-- Section 5: Signature Date -->
        <div class="form-section">
            <h2>‚úçÔ∏è 5. Fecha de Firma</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>D√≠a</label>
                    <input type="number" id="signDay" min="1" max="31" placeholder="15">
                </div>
                <div class="form-group">
                    <label>Mes</label>
                    <select id="signMonth">
                        <option value="enero">Enero</option>
                        <option value="febrero" selected>Febrero</option>
                        <option value="marzo">Marzo</option>
                        <option value="abril">Abril</option>
                        <option value="mayo">Mayo</option>
                        <option value="junio">Junio</option>
                        <option value="julio">Julio</option>
                        <option value="agosto">Agosto</option>
                        <option value="septiembre">Septiembre</option>
                        <option value="octubre">Octubre</option>
                        <option value="noviembre">Noviembre</option>
                        <option value="diciembre">Diciembre</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>A√±o</label>
                    <input type="number" id="signYear" value="2026" min="2024" max="2030">
                </div>
            </div>
        </div>
        
        <button class="btn preview-btn" onclick="generatePreview()">üëÅÔ∏è Vista Previa</button>
        <button class="btn" onclick="printContract()">üñ®Ô∏è Generar PDF / Imprimir</button>
    </div>
    
    <!-- Contract Preview -->
    <div class="contract-preview" id="contractPreview">
        <!-- Contract will be generated here -->
    </div>
    
    <script>
        function calculateTotals() {
            const rent = parseFloat(document.getElementById('rentLPS').value) || 0;
            const rate = parseFloat(document.getElementById('exchangeRate').value) || 25;
            
            const isv = rent * 0.15;
            const total = rent + isv;
            const usd = (rent / rate).toFixed(2);
            const deposit = rent * 2;
            
            document.getElementById('isvAmount').textContent = isv.toLocaleString();
            document.getElementById('totalRent').textContent = total.toLocaleString();
            document.getElementById('rentUSD').textContent = usd;
            document.getElementById('deposit').textContent = deposit.toLocaleString();
        }
        
        function calculateEndDate() {
            const startDate = document.getElementById('startDate').value;
            const duration = parseInt(document.getElementById('duration').value);
            
            if (startDate) {
                const start = new Date(startDate);
                const end = new Date(start);
                end.setFullYear(end.getFullYear() + duration);
                document.getElementById('endDate').value = end.toISOString().split('T')[0];
            }
        }
        
        function numberToWords(num) {
            const units = ['', 'UN', 'DOS', 'TRES', 'CUATRO', 'CINCO', 'SEIS', 'SIETE', 'OCHO', 'NUEVE'];
            const teens = ['DIEZ', 'ONCE', 'DOCE', 'TRECE', 'CATORCE', 'QUINCE', 'DIECIS√âIS', 'DIECISIETE', 'DIECIOCHO', 'DIECINUEVE'];
            const tens = ['', '', 'VEINTE', 'TREINTA', 'CUARENTA', 'CINCUENTA', 'SESENTA', 'SETENTA', 'OCHENTA', 'NOVENTA'];
            const hundreds = ['', 'CIEN', 'DOSCIENTOS', 'TRESCIENTOS', 'CUATROCIENTOS', 'QUINIENTOS', 'SEISCIENTOS', 'SETECIENTOS', 'OCHOCIENTOS', 'NOVECIENTOS'];
            
            if (num === 0) return 'CERO';
            if (num < 10) return units[num];
            if (num < 20) return teens[num - 10];
            if (num < 100) {
                const t = Math.floor(num / 10);
                const u = num % 10;
                if (num === 20) return 'VEINTE';
                if (num < 30) return 'VEINTI' + units[u];
                return tens[t] + (u ? ' Y ' + units[u] : '');
            }
            if (num < 1000) {
                const h = Math.floor(num / 100);
                const rest = num % 100;
                if (num === 100) return 'CIEN';
                return hundreds[h] + (rest ? ' ' + numberToWords(rest) : '');
            }
            if (num < 1000000) {
                const th = Math.floor(num / 1000);
                const rest = num % 1000;
                const prefix = th === 1 ? 'MIL' : numberToWords(th) + ' MIL';
                return prefix + (rest ? ' ' + numberToWords(rest) : '');
            }
            return num.toString();
        }
        
        function generatePreview() {
            const data = {
                tenantName: document.getElementById('tenantName').value.toUpperCase() || '[NOMBRE DEL ARRENDATARIO]',
                civilStatus: document.getElementById('civilStatus').value || '[ESTADO CIVIL]',
                tenantDNI: document.getElementById('tenantDNI').value || '[DNI]',
                tenantRTN: document.getElementById('tenantRTN').value,
                businessName: document.getElementById('businessName').value || '[NOMBRE DEL NEGOCIO]',
                localNumber: document.getElementById('localNumber').value || '1',
                localLocation: document.getElementById('localLocation').value,
                rentLPS: parseFloat(document.getElementById('rentLPS').value) || 20000,
                exchangeRate: parseFloat(document.getElementById('exchangeRate').value) || 25,
                paymentDay: document.getElementById('paymentDay').value,
                duration: document.getElementById('duration').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                specialClauses: document.getElementById('specialClauses').value,
                signDay: document.getElementById('signDay').value || '__',
                signMonth: document.getElementById('signMonth').value,
                signYear: document.getElementById('signYear').value
            };
            
            const isv = data.rentLPS * 0.15;
            const totalRent = data.rentLPS + isv;
            const rentUSD = (data.rentLPS / data.exchangeRate).toFixed(2);
            const deposit = data.rentLPS * 2;
            
            const rentWords = numberToWords(data.rentLPS);
            const totalWords = numberToWords(Math.round(totalRent));
            const depositWords = numberToWords(deposit);
            
            // Format dates
            const formatDate = (dateStr) => {
                if (!dateStr) return '[FECHA]';
                const d = new Date(dateStr);
                return d.toLocaleDateString('es-HN', { day: 'numeric', month: 'long', year: 'numeric' });
            };
            
            const html = `
                <h1>CONTRATO DE ARRENDAMIENTO DE LOCAL COMERCIAL</h1>
                
                <p><strong>NOSOTROS:</strong></p>
                
                <p>Por una parte, <strong>OSCAR RENE CASTILLO PACHECO</strong>, mayor de edad, estado civil CASADO, hondure√±o, con Documento Nacional de Identificaci√≥n (DNI) N¬∞ 1618-1969-00075 y RTN N¬∞ 1618-1969-000750, con domicilio en QUIMIST√ÅN, SANTA B√ÅRBARA, quien en adelante se denominar√° "EL ARRENDADOR".</p>
                
                <p>Por otra parte, <strong>${data.tenantName}</strong>, mayor de edad, estado civil ${data.civilStatus}, hondure√±o(a), con DNI N¬∞ ${data.tenantDNI}${data.tenantRTN ? ' y RTN N¬∞ ' + data.tenantRTN : ''}, en adelante denominado(a) "EL ARRENDATARIO".</p>
                
                <p>Hemos convenido celebrar el presente CONTRATO DE ARRENDAMIENTO, sujeto a las siguientes cl√°usulas y condiciones:</p>
                
                <p class="clause-title">PRIMERA: DEL INMUEBLE Y DESTINO.</p>
                <p>EL ARRENDADOR es propietario del inmueble denominado PLAZA ROSA DE CASTILLO, ubicado en el municipio de Quimist√°n, departamento de Santa B√°rbara. Por medio del presente, cede en arrendamiento ${data.localNumber.includes('&') || data.localNumber.includes('y') ? 'los locales comerciales' : 'un (1) local comercial'} (${data.localNumber}) situado(s) en ${data.localLocation}. EL ARRENDATARIO declara recibir el local en perfectas condiciones de funcionamiento, incluyendo pintura, cielo falso, piso de cer√°mica, sistema el√©ctrico, servicios sanitarios, puertas y ventanas, oblig√°ndose a devolverlo en el mismo estado, salvo el deterioro normal por el uso prudente. El local ser√° destinado exclusivamente para actividades comerciales l√≠citas${data.businessName ? ' (' + data.businessName + ')' : ''}.</p>
                
                <p class="clause-title">SEGUNDA: PRECIO, ISV Y PROTECCI√ìN CAMBIARIA.</p>
                <p>El valor del arrendamiento mensual base se pacta en la cantidad de <strong>${rentWords} LEMPIRAS EXACTOS (L. ${data.rentLPS.toLocaleString()}.00)</strong>.</p>
                <ul style="margin-left: 20px; margin-bottom: 12px;">
                    <li><strong>Impuesto Sobre Ventas (ISV):</strong> Al valor base de la renta se le sumar√° el 15% del Impuesto Sobre Ventas, siendo el monto total a pagar mensualmente de <strong>${totalWords} LEMPIRAS EXACTOS (L. ${totalRent.toLocaleString()}.00)</strong>. Si el Estado de Honduras modificara la tasa del impuesto, el pago total se ajustar√° autom√°ticamente.</li>
                    <li><strong>Indexaci√≥n al D√≥lar:</strong> Para proteger el valor adquisitivo de la renta, las partes acuerdan que la renta base de L. ${data.rentLPS.toLocaleString()}.00 es equivalente a <strong>$${rentUSD} USD</strong> (Tasa de Cambio BCH: L. ${data.exchangeRate} por $1 USD a la fecha de firma). Si la moneda nacional (Lempira) sufriera una devaluaci√≥n frente al D√≥lar, la renta base en Lempiras se ajustar√° proporcionalmente para mantener el mismo valor equivalente en D√≥lares pactado originalmente.</li>
                    <li><strong>Fecha de Pago:</strong> La renta se pagar√° por anticipado el d√≠a ${data.paymentDay} de cada mes.</li>
                    <li><strong>Incremento Anual:</strong> El canon de arrendamiento (Renta Base) sufrir√° un incremento autom√°tico del 3% anual sobre el valor del a√±o inmediato anterior.</li>
                </ul>
                
                <p class="clause-title">TERCERA: MORA Y SANCIONES.</p>
                <p>Se concede un per√≠odo de gracia de cinco (5) d√≠as calendario despu√©s de la fecha de pago establecida. Si el pago no se efect√∫a dentro de este plazo, se aplicar√° autom√°ticamente un recargo del 5% sobre la mensualidad adeudada. La falta de pago de dos (2) mensualidades consecutivas dar√° derecho a EL ARRENDADOR a rescindir el contrato y exigir la desocupaci√≥n inmediata.</p>
                
                <p class="clause-title">CUARTA: DEP√ìSITO DE GARANT√çA.</p>
                <p>A la firma de este contrato, EL ARRENDATARIO entrega la cantidad de <strong>${depositWords} LEMPIRAS EXACTOS (L. ${deposit.toLocaleString()}.00)</strong> en concepto de Dep√≥sito de Garant√≠a. Este dep√≥sito NO podr√° utilizarse para pagar mensualidades de renta. Ser√° devuelto treinta (30) d√≠as despu√©s de la finalizaci√≥n del contrato, previa deducci√≥n de posibles da√±os al local o deudas de servicios p√∫blicos.</p>
                
                <p class="clause-title">QUINTA: DURACI√ìN.</p>
                <p>El plazo es de <strong>${data.duration === '1' ? 'UN (1) A√ëO' : data.duration + ' (' + numberToWords(parseInt(data.duration)) + ') A√ëOS'}</strong>, iniciando el ${formatDate(data.startDate)} y finalizando el ${formatDate(data.endDate)}. EL ARRENDATARIO se obliga forzosamente por el t√©rmino de un (1) a√±o m√≠nimo. En caso de retiro anticipado sin preaviso de dos meses, pagar√° una penalizaci√≥n de dos (2) meses de renta.</p>
                
                <p class="clause-title">SEXTA: SERVICIOS P√öBLICOS Y LIMPIEZA.</p>
                <p>Ser√°n por cuenta de EL ARRENDATARIO: energ√≠a el√©ctrica, agua, internet, recolecci√≥n de basura y otros. Asimismo, es responsable de la limpieza del √°rea frente a su local.</p>
                
                <p class="clause-title">S√âPTIMA: MEJORAS Y RESTAURACI√ìN.</p>
                <p>EL ARRENDATARIO podr√° realizar instalaciones (aires acondicionados, divisiones). Al finalizar el contrato, podr√° retirarlas, pero tiene la obligaci√≥n estricta de resanar, sellar y pintar cualquier da√±o en paredes, techos o pisos para devolver el local a su Estado Original.</p>
                
                <p class="clause-title">OCTAVA: ESTACIONAMIENTO.</p>
                <p>Los espacios de estacionamiento son para uso rotativo de clientes. EL ARRENDATARIO y su personal podr√°n utilizar un m√°ximo de un (1) espacio, debiendo estacionarse en las √°reas designadas para no obstaculizar el flujo comercial. EL ARRENDADOR no se hace responsable por da√±os o robos en veh√≠culos.</p>
                
                <p class="clause-title">NOVENA: R√ìTULOS Y PUBLICIDAD.</p>
                <p>EL ARRENDATARIO podr√° instalar r√≥tulos previa aprobaci√≥n de EL ARRENDADOR sobre tama√±o y ubicaci√≥n. Los costos, impuestos municipales y el mantenimiento del r√≥tulo son responsabilidad de EL ARRENDATARIO. Al retirarlos, deber√° reparar la fachada.</p>
                
                <p class="clause-title">D√âCIMA: PROHIBICIONES.</p>
                <p>Queda prohibido subarrendar sin autorizaci√≥n, almacenar materiales peligrosos o il√≠citos, y utilizar el local para fines ajenos al comercio.</p>
                
                <p class="clause-title">D√âCIMA PRIMERA: ACEPTACI√ìN.</p>
                <p>EL ARRENDATARIO renuncia al fuero de su domicilio y se somete a los tribunales de la ciudad de Quimist√°n o Santa B√°rbara.</p>
                
                ${data.specialClauses ? `
                <p class="clause-title">D√âCIMA SEGUNDA: CL√ÅUSULAS ESPECIALES.</p>
                <p>${data.specialClauses}</p>
                ` : ''}
                
                <p style="margin-top: 30px;">En fe de lo cual, firmamos en Quimist√°n, Santa B√°rbara, a los <strong>${data.signDay}</strong> d√≠as del mes de <strong>${data.signMonth}</strong> del a√±o <strong>${data.signYear}</strong>.</p>
                
                <div class="signature-block">
                    <div class="signature-line">
                        OSCAR RENE CASTILLO PACHECO<br>
                        "EL ARRENDADOR"
                    </div>
                    
                    <div class="signature-line" style="margin-left: 50px;">
                        ${data.tenantName}<br>
                        "EL ARRENDATARIO"
                    </div>
                </div>
            `;
            
            document.getElementById('contractPreview').innerHTML = html;
            document.getElementById('contractPreview').classList.add('show');
            document.getElementById('contractPreview').scrollIntoView({ behavior: 'smooth' });
        }
        
        function printContract() {
            generatePreview();
            
            // Set dynamic filename for PDF
            const businessName = document.getElementById('businessName').value || 
                                 document.getElementById('tenantName').value || 
                                 'Contrato';
            const duration = document.getElementById('duration').value;
            const cleanName = businessName.replace(/[^a-zA-Z0-9√°√©√≠√≥√∫√±√Å√â√ç√ì√ö√ë\s]/g, '').replace(/\s+/g, '');
            const filename = `${cleanName}_${duration}a√±os`;
            
            // Update document title for PDF filename
            const originalTitle = document.title;
            document.title = filename;
            
            setTimeout(() => {
                window.print();
                // Restore original title after print dialog
                setTimeout(() => { document.title = originalTitle; }, 1000);
            }, 500);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            calculateTotals();
            
            // Set default start date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            calculateEndDate();
        });
    </script>
</body>
</html>
